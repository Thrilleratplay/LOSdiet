var zipData;JSZipUtils.getBinaryContent("./zips/slug.zip",function(e,t){if(e)throw e;zipData=t});var disableMakeZipButton=function(){document.querySelector("input[type=button]").disabled=0===document.querySelectorAll("input:checked").length};Array.prototype.map.call(document.querySelectorAll("input[type=checkbox]"),function(e){e.addEventListener("change",disableMakeZipButton)}),disableMakeZipButton();var itsGoTime=function(){function e(e){var t=["#!/sbin/sh","#","# /system/addon.d/20-LOSdiet.sh","# During a LineageOS upgrade this script removes user selected apps","deleteApk() {",'    rm -rf /system/app/$1.apk /system/priv-app/$1.apk /system/app/$1 /system/priv-app/$1 && echo "Removed $1"',"}","del_files() {","cat <<EOF"],n=["EOF","}",'if [[ "$1" == "post-restore" ]] || [[ "$1" == "" ]]; then',"    del_files | while read FILE; do",'        deleteApk "$FILE"',"    done","fi"];return[].concat(t,e,n).join("\n")}var t,n={type:"blob",platform:"UNIX"},i="LOS_app_remover-"+Date.now()+".zip";t=Array.prototype.map.call(document.querySelectorAll("input:checked"),function(e){return e.id}),JSZip.loadAsync(zipData).then(function(a){a.file("addon.d/20-LOSdiet.sh",e(t)).generateAsync(n).then(function(e){saveAs(e,i)})})};