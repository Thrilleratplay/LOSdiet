var zipData;JSZipUtils.getBinaryContent("./zips/slug.zip",function(e,t){if(e)throw e;zipData=t});var itsGoTime=function(){function e(e){var t=["#!/sbin/sh","#","# /system/addon.d/20-LOSdiet.sh","# During a LineageOS upgrade this script removes user selected apps","deleteApk() {",'    rm -rf /system/app/$1.apk /system/priv-app/$1.apk /system/app/$1 /system/priv-app/$1 && echo "Removed $1"',"}","del_files() {","cat <<EOF"],a=["EOF","}",'if [[ "$1" == "post-restore" ]] || [[ "$1" == "" ]]; then',"    del_files | while read FILE; do",'        deleteApk "$FILE"',"    done","fi"];return[].concat(t,e,a).join("\n")}var t,a={type:"blob",platform:"UNIX"},i="LOS_app_remover-"+Date.now()+".zip";t=Array.prototype.map.call(document.querySelectorAll(".container input:checked"),function(e){return e.id}),JSZip.loadAsync(zipData).then(function(n){n.file("addon.d/20-LOSdiet.sh",e(t.concat(manuallyEnteredApks))).generateAsync(a).then(function(e){saveAs(e,i),localStorage.setItem("LOSdiet.apks",JSON.stringify(t)),localStorage.setItem("LOSdiet.user_added_apks",JSON.stringify(manuallyEnteredApks))})})};